!function(e,t){"use strict";var i=t(window),n=(t(document),t("body"));if(null==o)var o=function(e,t){t=decodeURI(t),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))};var a=function(e){var i=e.target;""!==i.value?(""!==i.max&&(i.value=Math.min(Number(i.value),Number(i.max))),""!==i.min&&(i.value=Math.max(Number(i.value),Number(i.min))),t(i).trigger("change")):t(i).trigger("change")};t("#customize-controls").on("blur",'input[type="number"]',a),t("#customize-controls").on("keyup",'input[type="number"]',function(e){13==e.which&&a(e)}),t("#customize-controls").on("focus",'input[type="number"]',function(e){t(this).on("mousewheel.disableScroll",function(e){e.preventDefault()})}),t("#customize-controls").on("blur",'input[type="number"]',function(e){t(this).off("mousewheel.disableScroll")}),wp.customize.sectionConstructor["suki-section-pro-teaser"]=wp.customize.sectionConstructor["suki-section-pro-link"]=wp.customize.sectionConstructor["suki-section-spacer"]=wp.customize.Section.extend({attachEvents:function(){},isContextuallyActive:function(){return!0}}),wp.customize.SukiControl=wp.customize.Control.extend({initialize:function(e,t){var i=t||{};i.params=i.params||{},i.params.type||(i.params.type="suki-base"),i.params.content||(i.params.content=jQuery("<li></li>"),i.params.content.attr("id","customize-control-"+e.replace(/]/g,"").replace(/\[/g,"-")),i.params.content.attr("class","customize-control customize-control-"+i.params.type)),this.propertyElements=[],wp.customize.Control.prototype.initialize.call(this,e,i)},_setUpSettingRootLinks:function(){var e=this;e.container.find("[data-customize-setting-link]").each(function(){var t=jQuery(this);wp.customize(t.data("customizeSettingLink"),function(i){var n=new wp.customize.Element(t);e.elements.push(n),n.sync(i),n.set(i())})})},_setUpSettingPropertyLinks:function(){var e=this;e.setting&&e.container.find("[data-customize-setting-property-link]").each(function(){var t,i=jQuery(this),n=i.data("customizeSettingPropertyLink");t=new wp.customize.Element(i),e.propertyElements.push(t),t.set(e.setting()[n]),t.bind(function(t){var i=e.setting();t!==i[n]&&((i=_.clone(i))[n]=t,e.setting.set(i))}),e.setting.bind(function(e){e[n]!==t.get()&&t.set(e[n])})})},ready:function(){this._setUpSettingRootLinks(),this._setUpSettingPropertyLinks(),wp.customize.Control.prototype.ready.call(this),this.deferred.embedded.done(function(){})},embed:function(){var e=this,t=e.section();t&&wp.customize.section(t,function(t){t.expanded()||wp.customize.settings.autofocus.control===e.id?e.actuallyEmbed():t.expanded.bind(function(t){t&&e.actuallyEmbed()})})},actuallyEmbed:function(){"resolved"!==this.deferred.embedded.state()&&(this.renderContent(),this.deferred.embedded.resolve(),this.container.trigger("init"))},focus:function(e){this.actuallyEmbed(),wp.customize.Control.prototype.focus.call(this,e)}}),wp.customize.controlConstructor["suki-base"]=wp.customize.SukiControl,wp.customize.controlConstructor["suki-color"]=wp.customize.SukiControl.extend({ready:function(){var e=this,t=e.container.find(".color-picker");t.alphaColorPicker({change:function(){e.setting.set(t.wpColorPicker("color"))},clear:function(){e.setting.set("")}})}}),wp.customize.controlConstructor["suki-shadow"]=wp.customize.SukiControl.extend({ready:function(){var e=this.container.find(".suki-shadow-input"),i=this.container.find(".suki-shadow-value");this.updateValue=function(n){var o=e.map(function(){return t(this).hasClass("color-picker")?""===t(this).wpColorPicker("color")?"rgba(0,0,0,0)":t(this).wpColorPicker("color"):""===this.value?"0":this.value.toString()+"px"}).get();i.val(o.join(" ")).trigger("change")},this.container.find(".suki-shadow-color .color-picker").alphaColorPicker({change:this.updateValue,clear:this.updateValue}),this.container.on("change blur",".suki-shadow-input",this.updateValue)}}),wp.customize.controlConstructor["suki-dimension"]=wp.customize.SukiControl.extend({ready:function(){this.container.find(".suki-dimension-fieldset").each(function(e,i){var n=t(i),o=n.find(".suki-dimension-unit"),a=n.find(".suki-dimension-input"),r=n.find(".suki-dimension-value");o.on("change",function(e){var t=o.find('option[value="'+this.value+'"]');a.attr("min",t.attr("data-min")),a.attr("max",t.attr("data-max")),a.attr("step",t.attr("data-step")),a.val("").trigger("change")}),a.on("change blur",function(e){var t=""===this.value?"":this.value.toString()+o.val().toString();r.val(t).trigger("change")})})}}),wp.customize.controlConstructor["suki-slider"]=wp.customize.SukiControl.extend({ready:function(){this.container.find(".suki-slider-fieldset").each(function(e,i){var n=t(i),o=n.find(".suki-slider-unit"),a=n.find(".suki-slider-input"),r=n.find(".suki-slider-ui"),s=n.find(".suki-slider-reset"),u=n.find(".suki-slider-value");r.slider({value:a.val(),min:+a.attr("min"),max:+a.attr("max"),step:+a.attr("step"),slide:function(e,t){a.val(t.value).trigger("change")}}),s.on("click",function(e){var i=t(this).attr("data-number"),n=t(this).attr("data-unit");o.val(n),a.val(i).trigger("change"),r.slider("value",i)}),o.on("change",function(e){var t=o.find('option[value="'+this.value+'"]');a.attr("min",t.attr("data-min")),a.attr("max",t.attr("data-max")),a.attr("step",t.attr("data-step")),r.slider("option",{min:+a.attr("min"),max:+a.attr("max"),step:+a.attr("step")}),a.val("").trigger("change")}),a.on("change blur",function(e){r.slider("value",this.value);var t=""===this.value?"":this.value.toString()+o.val().toString();u.val(t).trigger("change")})})}}),wp.customize.controlConstructor["suki-dimensions"]=wp.customize.SukiControl.extend({ready:function(){this.container.find(".suki-dimensions-fieldset").each(function(e,i){var n=t(i),o=n.find(".suki-dimensions-unit"),a=n.find(".suki-dimensions-link"),r=n.find(".suki-dimensions-unlink"),s=n.find(".suki-dimensions-input"),u=n.find(".suki-dimensions-value");o.on("change",function(e){var t=o.find('option[value="'+this.value+'"]');s.attr("min",t.attr("data-min")),s.attr("max",t.attr("data-max")),s.attr("step",t.attr("data-step")),s.val("").trigger("change")}),a.on("click",function(e){e.preventDefault(),n.attr("data-linked","true"),s.val(s.first().val()).trigger("change"),s.first().focus()}),r.on("click",function(e){e.preventDefault(),n.attr("data-linked","false"),s.first().focus()}),s.on("keyup mouseup",function(e){"true"==n.attr("data-linked")&&s.not(this).val(this.value).trigger("change")}),s.on("change blur",function(e){var t,i=[],n=o.val().toString(),a=!0;s.each(function(){""===this.value?i.push("0"+n):(i.push(this.value.toString()+n),a=!1)}),t=a?"   ":i.join(" "),u.val(t).trigger("change")})})}}),wp.customize.controlConstructor["suki-typography"]=wp.customize.SukiControl.extend({ready:function(){this.container.find(".suki-typography-size").each(function(e,i){var n=t(i),o=n.find(".suki-typography-size-unit"),a=n.find(".suki-typography-size-input"),r=n.find(".suki-typography-size-value"),s=function(e){var t=o.find('option[value="'+e+'"]');a.attr("min",t.attr("data-min")),a.attr("max",t.attr("data-max")),a.attr("step",t.attr("data-step"))};o.on("change",function(e){s(this.value),a.val("").trigger("change")}),s(o.val()),a.on("change blur",function(e){var t=""===this.value?"":this.value.toString()+o.val().toString();r.val(t).trigger("change")})})}}),wp.customize.controlConstructor["suki-multicheck"]=wp.customize.SukiControl.extend({ready:function(){var e=this,t=e.container.find(".suki-multicheck-input");t.on("change",function(i){var n=[];t.each(function(){this.checked&&n.push(this.value)}),e.setting.set(n)})}}),wp.customize.controlConstructor["suki-radioimage"]=wp.customize.SukiControl.extend({ready:function(){var e=this;e.container.find(".suki-radioimage-input").on("change",function(t){e.setting.set(this.value)})}}),wp.customize.controlConstructor["suki-builder"]=wp.customize.SukiControl.extend({ready:function(){var e=this;e.builder=e.container.find(".suki-builder"),e.builderLocations=e.builder.find(".suki-builder-location"),e.builderInactive=e.builder.find(".suki-builder-inactive"),e.updateValue=function(i){if("__inactive"!==i){var n=e.builderLocations.filter('[data-location="'+i+'"]').find(".suki-builder-element"),o=[];n.each(function(){o.push(t(this).attr("data-value"))}),null!==e.settings?e.settings[i].set(o):e.setting.set(o)}},e.showHideAddButton=function(){var t=e.builder.find(".suki-builder-element-add");0===e.builderInactive.find(".suki-builder-element").length?t.hide():t.show()},e.showHideAddButton(),e.container.on("keyup","[tabindex]",function(e){13!=e.which&&32!=e.which||t(this).trigger("click")}),e.container.on("click",".suki-builder-element-add",function(i){i.preventDefault();var n=t(this),o=n.closest(".suki-builder-location"),a=n.closest(".suki-builder-locations");e.builderInactive.prev().get(0)==o.get(0)&&e.builderInactive.hasClass("show")?e.builderInactive.removeClass("show").appendTo(a):e.builderInactive.addClass("show").insertAfter(o)}),e.container.on("click",".suki-builder-inactive .suki-builder-element",function(i){if(i.preventDefault(),e.builderInactive.hasClass("show")){var n=t(this),o=e.builderInactive.prev(".suki-builder-location");n.appendTo(o.children(".suki-builder-sortable-panel")),e.builderInactive.removeClass("show"),e.updateValue(o.attr("data-location")),e.showHideAddButton()}}),e.container.on("click",".suki-builder-element-delete",function(i){i.preventDefault();var n=t(this).parent(".suki-builder-element"),o=n.closest(".suki-builder-location");n.prependTo(e.builderInactive.children(".suki-builder-sortable-panel")),e.updateValue(o.attr("data-location")),e.showHideAddButton()}),e.container.find(".suki-builder-sortable-panel").sortable({items:".suki-builder-element:not(.suki-builder-element-disabled)",connectWith:'.suki-builder-sortable-panel[data-connect="'+e.builder.attr("data-name")+'"]',containment:e.container,update:function(i,n){e.updateValue(t(i.target).parent().attr("data-location")),e.showHideAddButton()},receive:function(e,i){0<=t(i.item).attr("data-limitations").split(",").indexOf(t(this).parent().attr("data-location"))&&t(i.sender).sortable("cancel")},start:function(i,n){for(var o=t(n.item).attr("data-limitations").split(","),a=0;a<o.length;++a){var r=e.builderLocations.filter('[data-location="'+o[a]+'"]');void 0!==r&&r.addClass("disabled")}},stop:function(t,i){e.builderLocations.removeClass("disabled"),e.builderInactive.removeClass("disabled")}}).disableSelection()}}),wp.customize.bind("ready",function(){t("#customize-controls").on("click",".suki-responsive-switcher-button",function(e){e.preventDefault(),wp.customize.previewedDevice.set(t(this).attr("data-device"))});var e=function(){var e=wp.customize.previewedDevice.get(),i=t("span.suki-responsive-switcher-button"),n=t(".suki-responsive-switcher-button.nav-tab");t(".suki-responsive-fieldset").removeClass("active").filter(".preview-"+e).addClass("active"),i.removeClass("active").filter(".preview-"+e).addClass("active"),n.removeClass("nav-tab-active").filter(".preview-"+e).addClass("nav-tab-active")};wp.customize.previewedDevice.bind(e),wp.customize.section.each(function(t){t.expanded.bind(e)}),t("#customize-controls").on("click",".suki-customize-set-preview-url",function(e){e.preventDefault();var i=t(this).attr("href"),n=o("url",i);n!==wp.customize.previewer.previewUrl()&&wp.customize.previewer.previewUrl(n)}),t("#customize-controls").on("click",".suki-customize-goto-control",function(e){e.preventDefault();var i=t(this).attr("href"),n=o("autofocus[control]",i),a=o("autofocus[section]",i),r=o("autofocus[panel]",i);n?wp.customize.control(n).focus():a?wp.customize.section(a).focus():r&&wp.customize.panel(r).focus()}),sukiCustomizerControlsData&&sukiCustomizerControlsData.contexts&&_.each(sukiCustomizerControlsData.contexts,function(e,t){var i=function(e){switch(e){case"__device":return wp.customize.previewedDevice;default:return wp.customize(e)}},n=function(t){var n=function(){var t=!1,n=e.relation;return"OR"!==n&&(n="AND",t=!0),_.each(e,function(e,o){if("relation"!=o&&("AND"!=n||0!=t)&&void 0!==e.setting){var a=!1,r=i(e.setting);if(void 0!==r){var s=e.operator,u=e.value,c=r.get();switch(null!=s&&"="!=s||(s="=="),s){case">":a=c>u;break;case"<":a=c<u;break;case">=":a=c>=u;break;case"<=":a=c<=u;break;case"in":a=0<=u.indexOf(c);break;case"not_in":a=0>u.indexOf(c);break;case"contain":a=0<=c.indexOf(u);break;case"not_contain":a=0>c.indexOf(u);break;case"!=":a=u!=c;break;case"empty":a=0==c.length;break;case"!empty":a=0<c.length;break;default:a=u==c}}switch(n){case"OR":t=t||a;break;default:t=t&&a}}}),t},o=function(){t.active.set(n())};_.each(e,function(e,t){if("relation"!=t){var n=i(e.setting);void 0!==n&&n.bind(o)}}),t.active.validate=n,o()};0==t.indexOf("suki_section")?wp.customize.section(t,n):wp.customize.control(t,n)});var a=function(){var e=t(".control-section.suki-builder-active");1324<=window.innerWidth&&n.hasClass("suki-has-builder-active")&&0<e.length&&!e.hasClass("suki-hide")?wp.customize.previewer.container.css({bottom:e.outerHeight()+"px"}):wp.customize.previewer.container.css({bottom:""})};i.on("resize",a),wp.customize.previewedDevice.bind(function(e){setTimeout(function(){a()},250)});var r=function(e){var o="suki_panel_header"===e.id?wp.customize.section("suki_section_header_builder"):wp.customize.section("suki_section_footer_builder"),r=o.contentContainer;e.expanded.bind(function(e){_.each(o.controls(),function(e){"resolved"!==e.deferred.embedded.state()&&(e.renderContent(),e.deferred.embedded.resolve(),e.container.trigger("init"))}),e?(n.addClass("suki-has-builder-active"),r.addClass("suki-builder-active")):(n.removeClass("suki-has-builder-active"),r.removeClass("suki-builder-active")),a()}),r.on("click",".suki-builder-toggle",function(e){e.preventDefault(),r.toggleClass("suki-hide"),a()}),r.find(".suki-builder-sortable-panel").on("sortover",function(e,t){a()});var s=function(){1324<=window.innerWidth?(r.insertAfter(t(".wp-full-overlay-sidebar-content")),o.expanded()&&o.collapse()):r.appendTo(t("#customize-theme-controls"))};wp.customize.bind("pane-contents-reflowed",s),i.on("resize",s)};wp.customize.panel("suki_panel_header",r),wp.customize.panel("suki_panel_footer",r),wp.customize.control("footer_elements").container.on("init",e);var s=function(e){var i=t(this),n=0<=i.attr("id").indexOf("header")?"header":"footer",o=i.find(".suki-builder-locations").addClass("suki-builder-groups"),a=".suki-builder-location-vertical_top, .suki-builder-location-vertical_middle, .suki-builder-location-vertical_bottom, .suki-builder-location-mobile_vertical_top",r=i.find(a),s=i.find(".suki-builder-location").not(a);r.length&&t(document.createElement("div")).addClass("suki-builder-group suki-builder-group-vertical suki-builder-layout-block").appendTo(o).append(r),s.length&&t(document.createElement("div")).addClass("suki-builder-group suki-builder-group-horizontal suki-builder-layout-inline").appendTo(o).append(s),i.find('.suki-builder-element[data-value="logo"], .suki-builder-element[data-value="mobile-logo"]').addClass("button-primary"),i.on("click",".suki-builder-location .suki-builder-element > span",function(e){e.preventDefault();var i=t(this).parent(".suki-builder-element"),o="heading_"+n+"_"+i.attr("data-value").replace("-","_"),a=wp.customize.control(o);a&&a.focus()}),i.on("click",".suki-builder-group-edit",function(e){e.preventDefault();var i="suki_section_"+("footer_elements"==control.id?"footer":"header")+"_"+t(this).attr("data-value").replace("-","_"),n=wp.customize.section(i);n&&n.focus()})};wp.customize.control("header_elements").container.on("init",s),wp.customize.control("header_mobile_elements").container.on("init",s),wp.customize.control("footer_elements").container.on("init",s)})}(wp,jQuery);